<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Alex Zhong" />

<script data-no-instant><!-- 移动端不需要的样式不加载 -->
		function includeLinkStyle(url) {
			var link = document.createElement("link");
			link.rel = "stylesheet";
			link.type = "text/css";
			link.href = url;
			var attr = document.createAttribute('data-no-instant');
			link.setAttributeNode(attr);
			document.getElementsByTagName("head")[0].appendChild(link);
		}

		function includeJavaScript(url){
			var scriptObj = document.createElement("script");
			scriptObj.src = url;
			scriptObj.type = "text/javascript";
			var attr = document.createAttribute('data-no-instant');
			scriptObj.setAttributeNode(attr);
			document.getElementsByTagName("head")[0].appendChild(scriptObj);
		}

		if(!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)){
			includeLinkStyle("/plugins/css/special.css");
		//	includeLinkStyle("/plugins/font/style3.css");

		//	includeLinkStyle("/plugins/heart/style.css");
		//	includeLinkStyle("/search/css/cb-search.css");
			
				var link = document.createElement("link");
				link.rel = "shortcut icon";
				link.href = "/img/favicon.ico";
				document.getElementsByTagName("head")[0].appendChild(link);
			
		} else {
			if(navigator.userAgent.match(/(iPhone|iPod|iPad|ios)/i)){
				var link = document.createElement("link");
				link.rel = "apple-touch-icon";
				link.href = "/img/favicon.ico";
				document.getElementsByTagName("head")[0].appendChild(link);
			}
			includeLinkStyle("/plugins/prettify/themes/space-gray-dark.css");
			includeLinkStyle("/search/css/cb-search-mobile.css");
		}

		function loadJS(url, callback){
			var scriptObj = document.createElement("script");
			scriptObj.src = url;
			scriptObj.type = "text/javascript";
			//var attr = document.createAttribute('data-no-instant');
			//scriptObj.setAttributeNode(attr);
			var loaded;
			if(typeof callback === 'function'){
	        scriptObj.onload = scriptObj.onreadystatechange = function(){
	            if(!loaded && (!scriptObj.readyState || /loaded|complete/.test(scriptObj.readyState))){
	                scriptObj.onload = scriptObj.onreadystatechange = null;
	                loaded = true;
	                callback();
	            }
	        }
	    }
			document.getElementsByTagName("head")[0].appendChild(scriptObj);
		}
</script>



<meta name="description" content="此文用于快速回顾，不适合用来入门。">
<meta property="og:type" content="article">
<meta property="og:title" content="js函数基础回顾">
<meta property="og:url" content="https://alexzhong22c.github.io/2017/01/13/js-function/index.html">
<meta property="og:site_name" content="Web前端 | Alex Zhong">
<meta property="og:description" content="此文用于快速回顾，不适合用来入门。">
<meta property="og:image" content="http://olqa2s510.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AF%B9%E6%AF%94.png">
<meta property="og:updated_time" content="2017-04-10T12:57:02.227Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="js函数基础回顾">
<meta name="twitter:description" content="此文用于快速回顾，不适合用来入门。">
<meta name="twitter:image" content="http://olqa2s510.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AF%B9%E6%AF%94.png">


    <link rel="alternate" href="/atom.xml" title="Web前端 | Alex Zhong" type="application/atom+xml" data-no-instant>







	<script data-no-instant>
		paceOptions = {
			ajax: false, // disabled
			document: false, // disabled
			eventLag: false, // disabled
			restartOnRequestAfter: false,
			restartOnPushState: false,
			elements: {
				selectors: ['.body-wrap']
			}
		};
	</script>
  <script data-pace-options='{ "ajax": false }' src="//cdn.bootcss.com/pace/1.0.2/pace.min.js" data-no-instant></script>
  <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-bounce.css" rel="stylesheet" data-no-instant>


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>js函数基础回顾 | Web前端 | Alex Zhong</title>


</script>
<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script data-no-instant>
    var yiliaConfig = {
        fancybox: false,
        animate: false,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script data-no-instant> yiliaConfig.jquery_ui = [false]; </script>



    <script data-no-instant> yiliaConfig.rootUrl = "\/";</script>







	<!-- 右下角搜索 -->
<script><!-- 移动端不需要的样式不加载 -->
		if(!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)){
			document.write("<script src='/search/js/bootstrap3-typeahead.min.js' data-no-instant><\/script>");
		} else {
			document.write("<script src='/search/js/bootstrap3-typeahead.min-mobile.js' data-no-instant><\/script>");
		}
</script>

	<!-- <script src="/search/js/cb-search.js"></script> 已合并到after-footer.ejs-->
	<!-- <script src="/plugins/js/jquery.lazyload.min.js"></script> -->
	<script src="//cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js" data-no-instant></script>
	<!--  -->
		<!--prettify代码高亮主题css引入。注：为了减少请求数，已将此css合并到special.css-->
		<!--<link href="/plugins/prettify/themes/space-gray-dark.css" rel="stylesheet">-->
	<!--  -->

	<script type="text/javascript">
        //定义一个全局script的标记数组，用来标记是否某个script已经下载到本地
        var scriptsArray = new Array();
        $.cachedScript = function (url, options) {
            //循环script标记数组
            for (var s in scriptsArray) {
                //console.log(scriptsArray[s]);
                //如果某个数组已经下载到了本地
                if (scriptsArray[s]==url) {

                    return {  //则返回一个对象字面量，其中的done之所以叫做done是为了与下面$.ajax中的done相对应
                        done: function (method) {
                            if (typeof method == 'function'){  //如果传入参数为一个方法
                                method();
                            }
                        }
                    };
                }
            }
            //这里是jquery官方提供类似getScript实现的方法，也就是说getScript其实也就是对ajax方法的一个拓展
            options = $.extend(options || {}, {
                dataType: "script",
                url: url,
                cache:true //其实现在这缓存加与不加没多大区别
            });
            scriptsArray.push(url); //将url地址放入script标记数组中
            return $.ajax(options);
        };
    </script>
</head>

<body>
  <div id="container">
    <div class="left-col" id="left_col_div" style="background-color:#fafafa;">
    <div class="overlay" id="id_code_rain_div" style="opacity:0.2">
    <canvas id="matrix" width="300" height="180"></canvas>
</div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a id="id_avatar_a" href="/" class="profilepic">
            <!-- <img src="/img/avatar.jpg" class="animated zoomIn"> -->
        </a>
        <hgroup id="id_hgroup_name">
        <h1 id="ngudream_name" class="header-author"><!-- main.styl cl-effect-2 -->
        <a href="/"><span style="background-color:#fafafa !important" data-hover="专注于Web前端的AZ">Alex Zhong</span></a>
        </h1>
        </hgroup>
        
        
        <form id="search-form">
            <!-- 搜索框相关 -->
            <div class="col-3" style="float:left">
                <input type="text" id="local-search-input" name="q" results="0" placeholder="搜索...(◕ܫ◕)" class="effect-2" autocomplete="off" autocorrect="off" style="padding-left:4px" />
                <span class="focus-border"></span>
                <!-- 搜索框动画 -->
            </div>
            <div style="float:right;margin-top:13px;">
                <i id="search-delete" class="button pill" onclick="resetSearch()" style="margin-left:-26px;">删除</i>
                <!-- 清空/重置搜索框 -->
            </div>
        </form>
        <br/>
        <br/>
        <div id="local-search-result"></div>
        <!-- 搜索结果区 -->
        <p class="no-result" style="font-size:0.8em;text-align:center;">没有找到，空空如也...</p>
        <!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 <i class='fa fa-spinner fa-pulse'></i>-->
        
        
        <div id="switch-btn" class="switch-btn">
            <div class="icon">
                <div class="icon-ctn">
                    <div class="icon-wrap icon-house" data-idx="0">
                        <div class="birdhouse"></div>
                        <div class="birdhouse_holes"></div>
                    </div>
                    <div class="icon-wrap icon-ribbon hide" data-idx="1">
                        <div class="ribbon"></div>
                    </div>
                    
                    <div class="icon-wrap icon-link hide" data-idx="2">
                        <div class="loopback_l"></div>
                        <div class="loopback_r"></div>
                    </div>
                    
                    
                    <div class="icon-wrap icon-me hide" data-idx="3">
                        <div class="user"></div>
                        <div class="shoulder"></div>
                    </div>
                    
                    
                    <div class="icon-wrap icon-me hide" data-idx="4">
                        <div class="user"></div>
                        <div class="shoulder"></div>
                    </div>
                    
                    
                    <div class="icon-wrap icon-me hide" data-idx="5">
                        <div class="user"></div>
                        <div class="wechat_left"></div>
                    </div>
                    <div class="icon-wrap icon-me hide" data-idx="6">
                        <div class="user"></div>
                        <div class="wechat_left"></div>
                    </div>
                    
                </div>
            </div>
            <div class="tips-box hide">
                <!-- 鸟屋 -->
                <div class="tips-arrow"></div>
                <ul class="tips-inner">
                    <li>
                        菜单
                    </li>
                    <li>
                        标签
                    </li>
                    
                    <li>
                        友情链接
                    </li>
                    
                    
                    <li>
                        个人签名
                    </li>
                    
                    
                    <li>
                        最近访客
                    </li>
                    
                </ul>
            </div>
        </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul id="menu_ul">
                            
                            <!-- 菜单 -->
                            <li class="cl-effect-1">
                                
                                <a href="/">
                                    主页
                                </a>
                                
                            </li>
                            
                            <!-- 菜单 -->
                            <li class="cl-effect-1">
                                
                                <a href="/archives/">
                                    学无止境
                                </a>
                                
                            </li>
                            
                            <!-- 菜单 -->
                            <li class="cl-effect-1">
                                
                                <a data-no-instant href="/tags/">
                                    分类标签
                                </a>
                                
                            </li>
                            
                            <!-- 菜单 -->
                            <li class="cl-effect-1">
                                
                                <a href="/tags/回顾">
                                    助记回顾
                                </a>
                                
                            </li>
                            
                            <!-- 菜单 -->
                            <li class="cl-effect-1">
                                
                                <a href="/about/">
                                    求职实习
                                </a>
                                
                            </li>
                            
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            <!-- 社交 -->
                            
                            
                            
                            <span class="hint  hint--top" data-hint="知乎"><a class="fa 知乎" href="https://www.zhihu.com/people/Art-er/activities" style="margin-left:3px;"></a></span>
                            
                            
                            
                            
                            <span class="hint  hint--top" data-hint="QQ"><a class="fa QQ" href="javascript:void(0)" style="margin-left:3px;"></a></span>
                            
                            
                            
                            <span class="hint  hint--top" data-hint="微信"><a class="fa WeChat" href="javascript:void(0)" style="margin-left:3px;"></a></span>
                            
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/App/">App</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFC/">BFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/">CSS3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS选择器/">CSS选择器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IFE/">IFE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IIFE/">IIFE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/caller/">caller</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eslint/">eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/essay/">essay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/float/">float</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/font-face/">font-face</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/link标签/">link标签</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/list-style/">list-style</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/margin/">margin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meta标签/">meta标签</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/theme/">theme</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yelee/">yelee</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/事件/">事件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/交互/">交互</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优先级/">优先级</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优化/">优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/伪元素/">伪元素</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/作用域/">作用域</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数属性/">函数属性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单例/">单例</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/双飞翼布局/">双飞翼布局</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/回顾/">回顾</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图标/">图标</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/圣杯布局/">圣杯布局</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基础/">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字体/">字体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工程/">工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/心得/">心得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/指针事件/">指针事件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/插件/">插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/操作符/">操作符</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文字/">文字</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/权重/">权重</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/条目/">条目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/清除浮动/">清除浮动</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/特殊/">特殊</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/绝对定位/">绝对定位</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/表格/">表格</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/触摸事件/">触摸事件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/进阶/">进阶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/配置/">配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阻止上下外边距合并/">阻止上下外边距合并</a></li></ul>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                        
                        <a class="main-nav-link switch-friends-link" href="https://hexo.io">
                            Hexo
                        </a>
                        
                        <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">
                            GitHub
                        </a>
                        
                        <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">
                            MOxFIVE
                        </a>
                        
                        <a class="main-nav-link switch-friends-link" href="http://ngudream.com/">
                            ngudream
                        </a>
                        
                        <div style="margin-top:50px;">
                            <span>感恩一路有你们的陪伴与帮助！</span>
                        </div>
                    </div>
                </section>
                
                
                
                    <section class="switch-part switch-part4">
                        
                        <div id="js-aboutme" style="line-height:1.4rem !important">
                            Write the code Change the world
                        </div>
                        <div style="text-align:center;" id="bee_div"></div>
                    </section>
                    
                    
                    <!-- 最近访客http://yeshaoting.cn/article/hexo/yelee%E4%B8%BB%E9%A2%98%E6%9C%80%E8%BF%91%E8%AE%BF%E5%AE%A2%E6%8C%82%E4%BB%B6/#more -->
                    <section class="switch-part switch-part5">
                        <div class="widget visitor" id="js-visitor">
                        </div>
                    </section>
                    
                    
                    <section class="switch-part switch-part6">
                        <div style="text-align:center;" id="qq_div">
                        </div>
                    </section>
                    <section class="switch-part switch-part7" id="wechat_div">
                        <div style="text-align:center;"></div>
                    </section>
                    
                </div>
            </div>
        </header>
    </div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Alex Zhong</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a id="id_avatar_a_mobile" href="/" class="profilepic">
                <!-- <img src="/img/avatar.jpg" class="animated rotateIn" style="-vendor-animation-duration: 3s;-vendor-animation-delay: 2s;-vendor-animation-iteration-count: infinite;"> -->
				<!--<img src="/img/avatar.jpg" > -->
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Alex Zhong</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Coding Changes the World</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">学无止境</a></li>
                
                    <li><a href="/tags/">分类标签</a></li>
                
                    <li><a href="/tags/回顾">助记回顾</a></li>
                
                    <li><a href="/about/">求职实习</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
								
									<a class="fa 知乎" target="_blank" href="https://www.zhihu.com/people/Art-er/activities" title="知乎"></a>
								
                            
								
									<a class="fa QQ" title="QQ" target="_self" href="/social/"></a>
								
                            
								
									<a class="fa WeChat" title="微信" target="_self" href="/social/""></a>
								
                            
                        </ul>
            </nav>
        </header>
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="个人签名"/>
</nav>

      <div class="body-wrap"><article id="post-js-function" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/13/js-function/" class="article-date">
      <time datetime="2017-01-13T12:43:14.000Z" itemprop="datePublished">2017-01-13</time>
</a>




	<br />
	<p style="height:7px;"/>
	<p style="height:20px;font-family:KaiTi,LiSu,'宋体',sans-serif;color:#DBDBDB;font-size:12px;">预计阅读9分钟</p>

    </div>
  

   <!-- 文章主内容 -->
  
      <header id="id_header_post" class="article-header">
        
  
    <h1 class="article-title-big" itemprop="name">
      js函数基础回顾
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/函数属性/">函数属性</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/回顾/">回顾</a></li></ul>
    </div>


        <div class="clearfix"></div>
      </div>
      
    
          <div id="article-content" class="article-entry" itemprop="articleBody">
			  
			<p>此文用于快速回顾，不适合用来入门。</p>
<a id="more"></a>
<h2 id="创建函数对象的三种方法"><a class="header-anchor" href="#创建函数对象的三种方法"></a>创建函数对象的三种方法</h2>
<h3 id="函数声明"><a class="header-anchor" href="#函数声明"></a>函数声明</h3>
<p>就是对函数进行普通的声明</p>
<pre><code>function add(a, b) {
    return a + b;
}
</code></pre>
<h3 id="函数表达式"><a class="header-anchor" href="#函数表达式"></a>函数表达式</h3>
<ul>
<li>将函数赋值给变量</li>
</ul>
<pre><code>// function variable
var add = function(a, b) {
    // body...
};
</code></pre>
<ul>
<li>立即执行函数，把匿名函数用括号括起来，再直接调用。</li>
</ul>
<pre><code>// IEF(Immediately Executed Function)
(function() {
    // body...
})();
</code></pre>
<ul>
<li>函数对象作为返回值</li>
</ul>
<pre><code>return function() {
    // body...
};
</code></pre>
<ul>
<li>命名式函数表达式</li>
</ul>
<pre><code>//NFE(Named Function Expression)
var add = function foo(a, b) {
    // body...
};
</code></pre>
<p>这里大家肯定会好奇，这个函数怎么调用？到底用哪个名字呢？</p>
<p>做一个测试：</p>
<pre><code>var func = function nfe() {};
console.log(func === nfe);
// 在 IE6~8，得到 false
// 在 IE9+ 及现代浏览器中 Uncaught ReferenceError: nfe is not defined
</code></pre>
<p>那么命名函数表达式有什么使用场景呢？</p>
<ul>
<li>一般用于调试方便，如果使用匿名函数，执行的时候看不到函数名，命名函数表达式是可以看到函数名的。</li>
<li>或者在递归时，使用名字调用自己。</li>
</ul>
<p>但是这两种用法都不常见。</p>
<h3 id="function-构造器"><a class="header-anchor" href="#function-构造器"></a>Function 构造器</h3>
<p>除了函数声明、函数表达式。还有一种创建函数对象的方式，是使用函数构造器。</p>
<pre><code>var func = new Function('a','b','console.log(a+b);');
func(1,2);//3

var func2 = Function('a','b','console.log(a+b);');
func2(1,2);//3
</code></pre>
<p>Function 中前面的参数为后面函数体的形参，最后一个参数为函数体。可以看到传入的都是字符串，这样的创建函数对象的方法是不安全的。</p>
<p>还有一点，Function 构造器的得到的函数对象，拿不到外层函数的变量，但是可以拿到全局变量。它的作用域与众不同，这也是很少使用的原因之一。</p>
<h3 id="三种方法的对比"><a class="header-anchor" href="#三种方法的对比"></a>// 三种方法的对比:</h3>
<p><img src="http://olqa2s510.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AF%B9%E6%AF%94.png" alt=""></p>
<h2 id="变量-函数的声明前置"><a class="header-anchor" href="#变量-函数的声明前置"></a>变量 &amp; 函数的声明前置</h2>
<p>举两个例子</p>
<p>例1，函数声明：</p>
<pre><code>var num = add(1,2);
console.log(num);

function add(a, b) {
    return a + b;
}
</code></pre>
<p>例2，函数表达式：</p>
<pre><code>var num = add(1, 2);
console.log(num);

var add = function(a, b) {
    return a + b;
};
</code></pre>
<p>例1中得到的结果是 3，而例2中是 <code>Uncaught TypeError: add is not a function</code>。</p>
<p>因为函数和变量在声明的时候，会被前置到当前作用域的顶端。例1将函数声明<code>function add(a, b)</code>前置到作用域前端，例2将声明<code>var add</code>前置到其作用域的前端了，并没有赋值。<strong>赋值的过程是在函数执行到响应位置的时候才进行的。</strong></p>
<h2 id="调用方式"><a class="header-anchor" href="#调用方式"></a>调用方式</h2>
<ul>
<li>直接调用</li>
</ul>
<pre><code>foo();
</code></pre>
<ul>
<li>对象方法</li>
</ul>
<pre><code>o.method();
</code></pre>
<ul>
<li>构造器</li>
</ul>
<pre><code>new Foo();
</code></pre>
<ul>
<li>call/apply/bind</li>
</ul>
<pre><code>func.call(o);
</code></pre>
<h2 id="函数属性"><a class="header-anchor" href="#函数属性"></a>函数属性</h2>
<h3 id="arguments属性"><a class="header-anchor" href="#arguments属性"></a>arguments属性</h3>
<p>函数的arguments属性使函数可以处理可变数量的参数。 <strong>arguments</strong> 对象的 <strong>length</strong> 属性包含了传递给函数的参数数目。 <strong>arguments</strong> 对象中包含的各个参数的访问方式与数组元素的访问方式相同。</p>
<pre><code>function ArgTest(arg1, arg2){
   var s = &quot;&quot;;
   s += &quot;The individual arguments are: &quot;
   for (n = 0; n &lt; arguments.length; n++){
      s += ArgTest.arguments[n];
      s += &quot; &quot;;
   }
   return(s);
}
console.log(ArgTest(1, 2, &quot;hello&quot;));
// Output: The individual arguments are: 1 2 hello
</code></pre>
<h3 id="caller属性"><a class="header-anchor" href="#caller属性"></a>caller属性</h3>
<blockquote>
<p>functionName.caller</p>
</blockquote>
<p><em>functionName</em> 对象是任何正在执行的函数的名称。</p>
<p><strong>caller</strong> 属性只有当函数正在执行时才被定义。  如果函数是从 JavaScript 程序的顶层调用的，则 <strong>caller</strong> 包含 <strong>null</strong>。</p>
<p>如果在字符串上下文中使用 <strong>caller</strong> 属性，则其结果和 <em>functionName</em>.<strong>toString</strong> 相同，也就是说，将显示函数的反编译文本。</p>
<p>下面的示例阐释了 <strong>caller</strong> 属性的用法：</p>
<pre><code>function CallLevel(){
   if (CallLevel.caller == null)
      return(&quot;CallLevel was called from the top level.&quot;);
   else
      return(&quot;CallLevel was called by another function.&quot;);
}

console.log(CallLevel());
// Output: CallLevel was called from the top level.
</code></pre>
<h3 id="apply属性-方法"><a class="header-anchor" href="#apply属性-方法"></a>apply属性(方法)</h3>
<blockquote>
<p>调用函数，并用指定对象替换函数的 <strong>this</strong> 值，同时用指定数组替换函数的参数。</p>
<p>apply([thisObj[,argArray]])</p>
<p><code>thisObj</code>：可选。要用作 this 对象的对象。即调用这个函数的对象。</p>
<p><code>argArray</code>：可选。要传递到函数的一组参数。</p>
</blockquote>
<h3 id="call属性-方法"><a class="header-anchor" href="#call属性-方法"></a>call属性(方法)</h3>
<p>apply 后面的参数为数组，而call 为扁平化传参</p>
<pre><code>function foo(x, y) {
    console.log(x, y, this);
}

foo.call(100, 1, 2); //1 2 Number {[[PrimitiveValue]]: 100}
foo.apply(true, [3, 4]); //3 4 Boolean {[[PrimitiveValue]]: true}
foo.apply(null); //undefined undefined Window
foo.apply(undefined); //undefined undefined Window
</code></pre>
<p>传入 null/undefined 时，实际为 Window 对象
在严格模式下：上述代码最后两行分别输出 null, undefined</p>
<h3 id="bind属性-方法"><a class="header-anchor" href="#bind属性-方法"></a>bind属性(方法)</h3>
<ol>
<li>下面的代码演示如何使用 <strong>bind</strong> 方法。</li>
</ol>
<pre><code>// Define the original function.
var checkNumericRange = function (value) {
    if (typeof value !== 'number')
        return false;
    else
        return value &gt;= this.minimum &amp;&amp; value &lt;= this.maximum;
}

// The range object will become the this value in the callback function.
var range = { minimum: 10, maximum: 20 };

// Bind the checkNumericRange function.
var boundCheckNumericRange = checkNumericRange.bind(range);

// Use the new function to check whether 12 is in the numeric range.
var result = boundCheckNumericRange (12);
document.write(result);
console.log(result);	// true
</code></pre>
<ol>
<li>在下面的示例中，thisArg 对象与包含原始方法的对象不同。</li>
</ol>
<pre><code>// Create an object that contains the original function.
// Offer the range: [50,100]
var originalObject = {
    minimum: 50,
    maximum: 100,
    checkNumericRange: function (value) {
        if (typeof value !== 'number')
            return false;
        else
            return value &gt;= this.minimum &amp;&amp; value &lt;= this.maximum;
    }
}

// Check whether 10 is in the numeric range.
var result = originalObject.checkNumericRange(10);
console.log(result + &quot; &quot;);
// Output: false

// The range object supplies the range for the bound function.
// Offer the range: [10,20]
var range = { minimum: 10, maximum: 20 };

// Create a new version of the checkNumericRange function that uses range.
var boundObjectWithRange = originalObject.checkNumericRange.bind(range);

// Check whether 10 is in the numeric range.
var result = boundObjectWithRange(10);
console.log(result);
// Output: true
</code></pre>
<p>显然后者更加灵活一点。</p>
<p>再来一个例子：</p>
<pre><code>this.x = 9;
var module = {
    x: 81,
    getX: function() {
        return console.log(this.x);
    }
};

module.getX(); //81
// 函数的调用者为module，函数的this指向module


var getX = module.getX;
getX(); //9
// var getX = module.getX; 将这个方法赋值给一个全局变量，这时 this 指向了 window
// 函数的调用者为window，函数的this指向window

var boundGetX = getX.bind(module);
boundGetX(); //81
// 应用bind,函数的调用者为window，函数的this指向module
</code></pre>
<p>一般情况下，谁调用函数，函数的this就指向谁。</p>
<p><code>bind</code> 主要用于改变函数中的 <code>this</code></p>
<ul>
<li><code>module.getX();</code>直接通过对象调用自己的方法，结果是 81</li>
<li><code>var getX = module.getX;</code> 将这个方法赋值给一个全局变量，这时 this 指向了 window，所以结果为 9</li>
<li><code>var boundGetX = getX.bind(module);</code> 使用 bind 绑定了自己的对象，这样 this 仍然指向 module 对象，所以结果为 81</li>
</ul>
<ol>
<li>以下代码演示如何使用 <em>arg1[,arg2[,argN]]]</em> 参数。绑定函数将 <strong>bind</strong> 方法中指定的参数用作第一个参数和第二个参数。在调用绑定函数时指定的任何参数将用作第三个、第四个参数（依此类推）。</li>
</ol>
<pre><code>// Define the original function with four parameters.
var displayArgs = function (val1, val2, val3, val4) {
    console.log(val1 + &quot; &quot; + val2 + &quot; &quot; + val3 + &quot; &quot; + val4);
}

var emptyObject = {};

// Create a new function that uses the 12 and &quot;a&quot; parameters
// as the first and second parameters.
var displayArgs2 = displayArgs.bind(emptyObject, 12, &quot;a&quot;);

// Call the new function. The &quot;b&quot; and &quot;c&quot; parameters are used
// as the third and fourth parameters.
displayArgs2(&quot;b&quot;, &quot;c&quot;);
// Output: 12 a b c 
</code></pre>
<h4 id="bind-与-currying"><a class="header-anchor" href="#bind-与-currying"></a>bind 与 currying</h4>
<p>bind 可以使函数柯里化，那么什么是柯里化？</p>
<blockquote>
<p>在计算机科学中，柯里化（Currying）是把接受多个参数的函数变换成接受一个单一参数(最初函数的第一个参数)的函数，并且返回 <strong>接受</strong>余下的参数且<strong>返回</strong>结果的新函数 的技术。这个技术由 Christopher Strachey 以逻辑学家 Haskell Curry 命名的，尽管它是 Moses Schnfinkel 和 Gottlob Frege 发明的。</p>
</blockquote>
<pre><code>function add(a, b, c) {
    return a + b + c;
}

var func = add.bind(undefined, 100);
func(1, 2); //103

var func2 = func.bind(undefined, 200);
func2(10); //310
</code></pre>
<p>add 函数拥有 3 个参数。我们想先传入一个参数，再去传其他参数。</p>
<p><code>var func = add.bind(undefined, 100);</code>add 函数对象调用 bind 方法，由于不需要将 this 指向原来的 add 函数对象，所以第一个参数写为 undefined 或 null。第二个参数 100 传给了 add 函数中的形参 a，并赋值给一个新的函数对象 func。</p>
<p>这时，<code>func(1, 2)</code> 即相当于传入后两个参数，所以结果为 103。</p>
<p>同理，基于 func 可以创造一个函数 func2。它只用传最后一个参数。</p>
<h4 id="bind-与-new"><a class="header-anchor" href="#bind-与-new"></a>bind 与 new</h4>
<pre><code>function foo() {
    this.b = 100;
    return this.a;
}

console.log(foo()); //undefined

var func = foo.bind({
    a: 1
});

console.log(func()); //1
console.log(new func()); //foo {b: 100}
</code></pre>
<p>对于使用了 <code>new func()</code> 这种方式创建对象，其返回值<code>应为一个对象。</code></p>
<p>而原函数 foo 的返回值不是对象，所以会直接忽视这个 return 方法。而是变为 <code>return this;</code>。并且 this 会被初始化为一个空对象，这个空对象的原型指向 foo.prototype。所以后面的 bind 是不起作用的。</p>
<p>这里面这个 this 对象包含一个属性 <code>b = 100</code>。所以返回的是对象 <code>{b: 100}</code>。</p>
<p>mdn有提到，bind不要和构造函数一起用，各浏览器可能结果不一样。mdn建议不要这样用。</p>

		</div>
      
  
     <!-- 版权署名授权 -->
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/01/13/js-function/">js函数基础回顾</a></p>
        <p><span>文章作者:</span><a id="copyright_author" href="/" class="hint  hint--right" data-hint="回到主页">Alex Zhong</a></p>
        <p style="color: #696969;"><span>发布时间:</span>2017-01-13, 20:43:14</p>
        <!-- <p><span>最后更新:</span>2017-04-10, 20:57:02</p> -->
        <p>
            <span>原始链接:</span><a id="copyright_url" class="post-url hint  hint--top" data-hint="js函数基础回顾" href="/2017/01/13/js-function/">https://alexzhong22c.github.io/2017/01/13/js-function/</a>
            <span class="copy-path hint  hint--right" data-clipboard-text="原文: https://alexzhong22c.github.io/2017/01/13/js-function/　　作者: Alex Zhong" data-hint="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
        </p>
        <p style="color: #696969;">
            <span>许可协议:</span><i class="fa fa-creative-commons"></i><a id="copyright_license" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target = "_blank" class="hint  hint--bottom" data-hint="中国大陆 (CC BY-NC-SA 3.0 CN)">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2017/01/25/h5-new-ele/">
                    内容分类--谈谈H5标签
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2016/11/09/let-n-const/">
                    let和const回顾
                </a>
            </div>
        
    </nav>


  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建函数对象的三种方法"><span class="toc-number">1.</span> <span class="toc-text">创建函数对象的三种方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#函数声明"><span class="toc-number">1.1.</span> <span class="toc-text">函数声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数表达式"><span class="toc-number">1.2.</span> <span class="toc-text">函数表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#function-构造器"><span class="toc-number">1.3.</span> <span class="toc-text">Function 构造器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三种方法的对比"><span class="toc-number">1.4.</span> <span class="toc-text">// 三种方法的对比:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量-函数的声明前置"><span class="toc-number">2.</span> <span class="toc-text">变量 & 函数的声明前置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#调用方式"><span class="toc-number">3.</span> <span class="toc-text">调用方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数属性"><span class="toc-number">4.</span> <span class="toc-text">函数属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#arguments属性"><span class="toc-number">4.1.</span> <span class="toc-text">arguments属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#caller属性"><span class="toc-number">4.2.</span> <span class="toc-text">caller属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apply属性-方法"><span class="toc-number">4.3.</span> <span class="toc-text">apply属性(方法)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call属性-方法"><span class="toc-number">4.4.</span> <span class="toc-text">call属性(方法)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind属性-方法"><span class="toc-number">4.5.</span> <span class="toc-text">bind属性(方法)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bind-与-currying"><span class="toc-number">4.5.1.</span> <span class="toc-text">bind 与 currying</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bind-与-new"><span class="toc-number">4.5.2.</span> <span class="toc-text">bind 与 new</span></a></li></ol></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>
    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">
    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>




    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"js函数基础回顾　| Web前端 | Alex Zhong　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
      <div class="duoshuo" id="comments">
    <div id="comment-box" ></div>
    <div class="ds-thread" id="ds-thread" data-thread-key="2017/01/13/js-function/" data-title="js函数基础回顾" data-url="https://alexzhong22c.github.io/2017/01/13/js-function/"></div>
    <script>
        var duoshuoQuery = {short_name:"null"};
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = 'https://alexzhong22c.github.io/js/embed.js';
            s.async = true; s.charset = 'UTF-8';
            (d.head || d.body).appendChild(s);
        }

        
            // Add comment count
            $(function(){
                var jsonUrl = "https://api.duoshuo.com/threads/counts.jsonp?short_name=null&threads=2017/01/13/js-function/&callback=?";
                $.getJSON(jsonUrl, function(result){
                    $.each(result.response, function(i, field){
                        var value = field.comments;
                        if (value > 0) {
                            $(".count-comment").text(value);
                            return;
                        }
                    })
                })
            })
        
    </script>
    
    <aside class="comment-bar">
        <a href="javascript:void(0);">
            <i class="fa fa-commenting-o animated infinite pulse"></i>
            <i class="fa fa-spinner fa-pulse"></i>
            <span class="count-comment"></span>
        </a>
    </aside>
    <script>
        var $commentBar = $("#comments aside.comment-bar");
        var load$hide = function(){
            $commentBar.find("a > i").toggle();
            loadJS("https://alexzhong22c.github.io/js/embed.js", function(){
              if (typeof DUOSHUO !== 'undefined'){
		              DUOSHUO.EmbedThread('.ds-thread');
              }
            })
            $commentBar.fadeOut(800);

        }
        $commentBar.click(function(){
            load$hide();
        })
        $commentBar.children("a").hover(function(){
            load$hide();
        })
        if (window.location.hash === "#comments") {
            load$hide();
        }
    </script>


</div>

    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/01/25/h5-new-ele/" title="上一篇: 内容分类--谈谈H5标签">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2016/11/09/let-n-const/" title="下一篇: let和const回顾">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/15/vue-table-nav/">按条目展示表格数据小插件</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/06/ife-css-task03/">IFE2017-CSS-task03笔记：三栏式布局</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/01/clearfix-n-bfc/">闭合浮动和BFC和阻止上下外边距的合并</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/01/ife-css-task02/">IFE2017-CSS-task02笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/31/css-selectors-specificity/">CSS选择器优先级</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/27/ife-css-task01/">IFE2017-CSS-task01笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/11/try-eslint/">eslint折腾记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/10/iife-intro/">IIFE回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/09/for-loop/">js的for循环回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/05/js-event2/">事件进阶话题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/float-n-absolute/">float和绝对定位比较</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/about-margin/">和margin有关的知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/02/gulp-usage/">gulp的入门和一些简单使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/27/icon-usage/">桌面端和移动端图标的引入</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/25/webapp-events-intro/">移动开发事件入门概述</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/24/webapp-intro/">移动开发入门概述</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/22/my-hexo-theme/">yelee主题改bug总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/22/my-hexo-blog/">搭建hexo博客个人总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/17/todo-app/">ToDo小应用完工总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/11/equality-operators/">相等操作符回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/11/js-operators/">操作符回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/29/js-event/">js事件绑定基础回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/25/font-face/">font-face--CSS3</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/25/h5-new-ele/">内容分类--谈谈H5标签</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/13/js-function/">js函数基础回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/09/let-n-const/">let和const回顾</a></li></ul>




    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info" style="text-align:center;">

            <div class="footer-left" style="vertical-align:middle;margin-top:2px">
                <img src="" style="vertical-align:middle; opacity:0" height="24">
                <i class="fa fa-copyright" style="vertical-align:middle;"></i>
                2017 Alex Zhong
            </div>

			<div id="footer_right_div" class="footer-right" style="text-align:center;overflow:hidden;">
				<div id="web_count_div" class="post-count-bottom" style="display:inline;">
					
						<span id="id_wordcount_span" style="margin-left:20px;vertical-align:middle;">本文字数：2,150</span>
					
				</div>
            </div>
        </div>

        
            <div id="footerdiv" class="visit" style="text-align:center;">
			        <img src="" style="vertical-align:middle; opacity:0" height="24">
                
                    <span id="busuanzi_container_site_pv" style="display:none; text-align:center;">
                        <span id="site-visit" class="hint  hint--top" data-hint="本博热度" style="vertical-align:middle;"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
				
					
						<span id="divider_span" style="vertical-align:middle;">|&thinsp;</span>
					
					
						<span id="busuanzi_container_page_pv" style="display:none;text-align:center;">
							<span id="page-visit" class="hint  hint--top  hint--info" data-hint="本文热度" style="vertical-align:middle;"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span><span>°C</span>
							</span>
						</span>
					
				
            </div>
        
    </div>

	<!-- 右下角的搜索 -->
<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
        opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">
    <input type="text" class="cb-search-content" id="cb-search-content" style="width:50%;top:60px;left:300px;position:fixed; border-radius:50px; background-color:white; opacity:1 !important;" placeholder="请输入文章标题或标签" />

	<div id="cb-close-div" style="position: fixed; top: 16px; right: 16px;">
        <span class="hint  hint--left" data-hint="按ESC键关闭搜索" id="id_span_search_close"></span>
    </div>
</div>

<div id="cb-search-div" style="position: fixed; right: 16px; bottom: 20px;">
    <span class="hint  hint--left" data-hint="双击Ctrl键打开或关闭搜索" id="id_span_search_open"></span>
</div>
</footer>

    </div>
    
<script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js" defer async="true" data-no-instant></script>






<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
             github: ".github-widget a", 
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
            
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script type="text/javascript" data-no-instant>
String.prototype.endWith = function(s) {
if(s==null||s==""||this.length==0||s.length>this.length)
return false;
if(this.substring(this.length-s.length)==s)
return true;
else
return false;
return true;
}
String.prototype.startWith = function(s) {
if(s==null||s==""||this.length==0||s.length>this.length)
return false;
if(this.substr(0,s.length)==s)
return true;
else
return false;
return true;
}
//是否是文章
function is_post(){//根据自己实际需要来判断
var url = window.location.pathname;
var urlArray = url.split("/");
if(urlArray.length > 2){
var id = $(".article").eq(0).attr("id");
var resultUrl = "post-" + urlArray[urlArray.length - 2];
if(resultUrl == id){
return true;
}
}
return false;
// if($("#id_header_post").length > 0){
//   return true;
// }
// return false;
//return yiliaConfig.isPost;
}
function is_archive() {
// if($("#id_archives").length > 0){
//   return true;
// }
// return false;
var url = window.location.pathname;
if(url.startWith("/archives/")){
return true;
}
return false;
//return yiliaConfig.isArchive;
}
function is_tag() {
var url = window.location.pathname;
if(url.startWith("/tags/")){
return true;
}
return false;
}
function is_category(){
var url = window.location.pathname;
if(url.startWith("/categories/")){
return true;
}
return false;
//return yiliaConfig.isCategory;
}
function is_home(){
var url = window.location.pathname;
if(url == '/'){
return true;
}
return false;
}
var slide = function(idx) {
// 修复IE10+切换无效的bug
var $wrap = $(".switch-wrap"),
transform = [
'-webkit-transform: translate(-' + idx * 100 + '%, 0);',
'-moz-transform: translate(-' + idx * 100 + '%, 0);',
'-o-transform: translate(-' + idx * 100 + '%, 0);',
'-ms-transform: translate(-' + idx * 100 + '%, 0);',
'transform: translate(-' + idx * 100 + '%, 0);'
];
$wrap[0].style.cssText = transform.join('');
$(".icon-wrap").addClass("hide");
$(".icon-wrap").eq(idx).removeClass("hide");
}
var toggleTocArea = function(){
var valueHide = yiliaConfig.toc[0];
var valueShow = yiliaConfig.toc[1];
if ($(".left-col").is(":hidden")) {
$("#tocButton").attr("value", valueShow);
}
$("#tocButton").click(function() {
if ($("#toc").is(":hidden")) {
$("#tocButton").attr("value", valueHide);
$("#toc").slideDown(320);
$(".switch-btn, .switch-area").fadeOut(300);
}
else {
$("#tocButton").attr("value", valueShow);
$("#toc").slideUp(350);
$(".switch-btn, .switch-area").fadeIn(500);
}
})
}
var HideTOCifNoHeader = function(){
if (!$(".toc").length) {
$("#toc, #tocButton").hide();
$(".switch-btn, .switch-area").show();
}
}
var clickIcon = function(){
$("#toc .toc-item > i").click(function(){
$(this).siblings(".toc-child").slideToggle(100);
$(this).toggleClass("hide");
$(this).siblings("i").toggleClass("hide");
})
}
var clickTitle = function(){
var $itemHasChild = $("#toc .toc-item:has(> .toc-child)");
var $titleHasChild = $itemHasChild.children(".toc-link");
$titleHasChild.dblclick(function(){//双击隐藏子目录
$(this).siblings(".toc-child").hide(100);
$(this).siblings("i").toggleClass("hide");
})
// After dblclick enent
$titleHasChild.click(function(){
var $curentTocChild = $(this).siblings(".toc-child");
if ($curentTocChild.is(":hidden")) {
$curentTocChild.show(100);
$(this).siblings("i").toggleClass("hide");
}
})
}
var clickTocTitle = function(){
var $itemHasChild = $("#toc .toc-item:has(> .toc-child)");
var $titleHasChild = $itemHasChild.children(".toc-link");
var $iconToExpand = $(".toc-item > .fa-caret-right");
var $iconToFold = $(".toc-item > .fa-caret-down");
var $subToc = $titleHasChild.next(".toc-child");
$iconToExpand.addClass("hide");
var $tocTitle = $("#toc .toc-title");
if ($titleHasChild.length) {
$tocTitle.addClass("clickable");
$tocTitle.click(function(){
if ($subToc.is(":hidden")) {
$subToc.show(150);
$iconToExpand.removeClass("hide");
$iconToFold.addClass("hide");
} else {
$subToc.hide(100);
$iconToExpand.addClass("hide");
$iconToFold.removeClass("hide");
}
})
// TOC on mobile
if ($(".left-col").is(":hidden")) {
$("#container .toc-article .toc").css("padding-left", "1.4em");
$("#container .toc-article .toc-title").css("display", "initial");
}
}
}
var TocNoWarp = function(cond){
if (cond) {
var $tocLink = $(".toc li a");
$tocLink.each(function(){
var title = $(this).find('.toc-text').text();
// Find elements with ellipsis
if (this.offsetWidth < this.scrollWidth) {
$(this).attr("title", title);
if (!!$().tooltip) { $(this).tooltip() }
}
        //$(this).attr("href", "#" + title.toLowerCase());
        //$(this).attr("onclick", alert("text"));
})
var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
if (isSafari) {
$("#toc .toc-item i").css("bottom", ".1em");
}
}
}
// 异步加载css
function loadCss (cssUrl, callback) {
var elem, bl,
isExecuted = false; // 防止在ie9中，callback执行两次
if ( cssUrl == null ) {
return String(cssUrl);
}
elem = document.createElement('link'),
elem.rel = 'stylesheet';
if ( typeof callback === 'function' )  {
bl = true;
}
// for ie
function handle() {
if ( elem.readyState === 'loaded' || elem.readyState === 'complete' ) {
if (bl && !isExecuted) {
callback();
isExecuted = true;
}
elem.onreadystatechange = null;
}
}
elem.onreadystatechange = handle;
// for 非ie
if (bl && !isExecuted) {
elem.onload = callback;
isExecuted = true;
}
elem.href = cssUrl;
document.getElementsByTagName('head')[0].appendChild(elem);
}
//异步加载js
function loadScript(scriptUrl, callback) {
var elem, bl,
isExecuted = false; // 防止在ie9中，callback执行两次
if (scriptUrl == null) {
return String(fn);
}
elem = document.createElement('script');
if ( typeof callback === 'function' )  {
bl = true;
}
// for ie
function handle(){
var status = elem.readyState;
if (status === 'loaded' || status === 'complete') {
if (bl && !isExecuted) {
callback();
isExecuted = true;
}
elem.onreadystatechange = null;
}
}
elem.onreadystatechange = handle;
// for 非ie
if (bl && !isExecuted) {
elem.onload = callback;
isExecuted = true;
}
elem.src = scriptUrl;
document.getElementsByTagName('head')[0].appendChild(elem);
}
//instantclick回调
var afterChange = function (isChange) {
var isPostPage = null;
if(isPostPage == null){
isPostPage = is_post();
}
if(isPostPage && !isChange){//如果是文章，则设置目录功能
$("#instantclick").remove();
$("#instantclick-bar").remove();
yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
toggleTocArea();
HideTOCifNoHeader();
var $itemHasChild = $("#toc .toc-item:has(> .toc-child)");
var $titleHasChild = $itemHasChild.children(".toc-link");
$itemHasChild.prepend("<i class='fa fa-caret-down'></i><i class='fa fa-caret-right'></i>");
clickIcon();
clickTitle();
clickTocTitle();
TocNoWarp(yiliaConfig.toc[2]);
$(".article").css("opacity", "1.0");//结束后要将文章显示
} else if(is_home() && !isChange){
loadCss("//cdn.bootcss.com/semantic-ui/0.19.3/css/semantic.min.css", function(){
jQuery.getScript("//cdn.bootcss.com/semantic-ui/0.19.3/javascript/semantic.min.js").done(function(){
$(".article").removeClass("animated");
$(".article").css("opacity", "1.0");//结束后要将文章显示
});
});
} else {//暂时解决在分类标签页打开其它页面后，返回分类标签页加载页面出错的问题
var url = window.location.pathname;
if(!isChange){
if(url == "/tags/"){
window.location.reload();
return;
} else if(url.startWith("/page/")){
$(".article").css("opacity", "1.0");//结束后要将文章显示
}
}
}
if(is_archive()){
$("#id_archives").css("opacity", "1.0");
}
$(document).ready(function () {
resetPageOpacity();
hideLabels();
resetTags();
$("img.lazy").lazyload({
placeholder : "/img/loading0_2.gif",
effect : "fadeIn"
});
var avatarIcons = ["/img/avatar.jpg", "/img/Coding.png"];
var iconIndex = Math.floor(Math.random()*(avatarIcons.length));
var avatarPath = avatarIcons[iconIndex];
//本机宽度798、高度638
resetTitile();
addAvatar(avatarPath);
resetPageWidth();
setTitleSerialNum();
tipBoxFunc();
otherSettings(isChange);
baiduShare();
if(isPostPage){
setHightLigth();
copyCode();
copyRight();
}
leftSearch();
mobileSearch();
rightSearch();
// $.cachedScript('https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js').done(function () {
//   console.log("dddddddd");
// });
includeJavaScript("https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js");

if(isPostPage) {
var curProtocol = window.location.protocol.split(':')[0];
if (curProtocol === 'https') {
$.cachedScript('//zz.bdstatic.com/linksubmit/push.js').done(function () {
});
} else {
$.cachedScript('//push.zhanzhang.baidu.com/push.js').done(function () {
});	
}

}
addTextAnimation();
playTextAnimation();
textAnimationClick(avatarPath);
codeRain();
duoshuoComments();
});
}
//左侧搜索
var leftSearch = function() {
if (yiliaConfig.search) {
jQuery.getScript(yiliaConfig.rootUrl + 'js/search.js').done(function(){
var inputArea = document.querySelector("#local-search-input");
var $HideWhenSearch = $("#toc, #tocButton, .post-list, #post-nav-button a:nth-child(2)");
var $resetButton = $("#search-form .button");
var $resultArea = $("#local-search-result");
var getSearchFile = function() {
var search_path = "search.xml";
var path = yiliaConfig.rootUrl + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
}
var getFileOnload = inputArea.getAttribute('searchonload');
if (yiliaConfig.search && getFileOnload === "true") {
getSearchFile();
} else {
inputArea.onfocus = function() {
getSearchFile()
}
}
var HideTocArea = function() {
$HideWhenSearch.css("visibility", "hidden");
$resetButton.show();
}
inputArea.oninput = function() {
HideTocArea()
}
inputArea.onkeydown = function() {
if (event.keyCode == 13) return false
}
//搜索框删除按钮
resetSearch = function() {
$HideWhenSearch.css("visibility", "initial");
$resultArea.html("");
document.querySelector("#search-form").reset();
$resetButton.hide();
$(".no-result").hide();
$("#left_col_div").css("overflow-y", "hidden");
}
//监控搜索框内容，内容为空时主动调用删除函数
$(function() {
$('#local-search-input').bind('input propertychange', function() {
$('#result').html($(this).val().length + ' characters');
var len = $(this).val().length;
if (len <= 0) {
var searchDel = document.getElementById("search-delete");
searchDel.click();
}
});
})
$resultArea.bind("DOMNodeRemoved DOMNodeInserted", function(e) {
if (!$(e.target).text()) {
$(".no-result").show(200);
$("#left_col_div").css("overflow-y", "hidden");
} else {
$(".no-result").hide();
$("#left_col_div").css("overflow-y", "auto").css("overflow-x", "hidden");
}
})
});
}
}
//弹出鸟屋
var tipBoxFunc = function() {
var Tips = (function() {
var $tipBox = $(".tips-box");
return {
show: function() {
$tipBox.removeClass("hide");
},
hide: function() {
$tipBox.addClass("hide");
},
init: function() {
}
}
})();
var bind = function() {
var switchBtn = $("#myonoffswitch");
var tagcloud = $(".second-part");
var navDiv = $(".first-part");
switchBtn.click(function() {
if (switchBtn.hasClass("clicked")) {
switchBtn.removeClass("clicked");
tagcloud.removeClass("turn-left");
navDiv.removeClass("turn-left");
} else {
switchBtn.addClass("clicked");
tagcloud.addClass("turn-left");
navDiv.addClass("turn-left");
resetTags();
}
});
var timeout;
var isEnterBtn = false;
var isEnterTips = false;
$(".icon").bind("mouseenter", function() {
isEnterBtn = true;
Tips.show();
}).bind("mouseleave", function() {
isEnterBtn = false;
setTimeout(function() {
if (!isEnterTips) {
Tips.hide();
}
}, 100);
});
$(".tips-box").bind("mouseenter", function() {
isEnterTips = true;
Tips.show();
}).bind("mouseleave", function() {
isEnterTips = false;
setTimeout(function() {
if (!isEnterBtn) {
Tips.hide();
}
}, 100);
});
$(".tips-inner li").bind("click", function() { //控制鸟屋点击事件
var idx = $(this).index();
if(idx == 3){
if ($("#my_signature").length <= 0) {
$("#bee_div").append("<img id='my_signature' src='/img/bee.png' />");
}
} else if(idx == 4){
if($("#ds-recent-visitors").length <= 0){
$("#js-visitor").append("<ul class='ds-recent-visitors' data-num-items='28' data-avatar-size='50' id='ds-recent-visitors'></ul>");
DUOSHUO.RecentVisitors($("#ds-recent-visitors"));
}
}
slide(idx);
Tips.hide();
});
$(".QQ").bind("click", function() { //qq扫码
//var idx = $(this).index();
if ($("#my_qq").length <= 0) {
$("#qq_div").append("<img id='my_qq' src='/img/qq.png' style='cursor:pointer; margin-top:-8px;' />");
$("#my_qq").bind("click", function() { //qq扫码
if ($("#my_wechat").length <= 0) {
$("#wechat_div").append("<img id='my_wechat' src='/img/wechat.png' style='cursor:pointer; margin-left:12px;' />");
$("#my_wechat").bind("click", function() { //微信扫码
slide(5);
Tips.hide();
});
}
slide(6);
Tips.hide();
});
}
slide(5);
Tips.hide();
});
$(".WeChat").bind("click", function() { //微信扫码
//var idx = $(this).index();
if ($("#my_wechat").length <= 0) {
$("#wechat_div").append("<img id='my_wechat' src='/img/wechat.png' style='cursor:pointer; margin-left:12px;' />");
$("#my_wechat").bind("click", function() { //微信扫码
if ($("#my_qq").length <= 0) {
$("#qq_div").append("<img id='my_qq' src='/img/qq.png' style='cursor:pointer; margin-top:-8px;' />");
$("#my_qq").bind("click", function() { //qq扫码
slide(6);
Tips.hide();
});
}
slide(5);
Tips.hide();
});
}
slide(6);
Tips.hide();
});
}
bind();
Tips.init();
}
//设置标签的背景色
var resetTags = function(){
if(!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)){
var tags = $(".tagcloud a");
for(var i = 0; i < tags.length; i++){
var num = Math.floor(Math.random()*7);
tags.eq(i).addClass("color" + num);
}
$(".article-category a:nth-child(-n+2)").attr("class", "color0");
}
}
var resetTitile = function () {
<!-- 控制标题是否滚动 -->
var totalwidth = $(window).width();
var titles = document.getElementsByClassName("archive-item-title");
for (var i = 0; i < titles.length; i++) {
var title = titles[i];
<!-- 设置标题最大显示长度 -->
if (totalwidth >= 1800) {
title.style.maxWidth = "600px";
} else if (totalwidth >= 1550 && totalwidth < 1800) {
title.style.maxWidth = "500px";
} else if (totalwidth < 700) {
title.style.maxWidth = "300px";
title.style.marginLeft = "-10px";
}
<!--　添加跑马灯效果 -->
var marquee = false;
var realLength = 0;
var str = title.innerText;
for (var j = 0; j < str.length; j++) {
charCode = str.charCodeAt(j);
if (charCode >= 0 && charCode <= 128) {
realLength += 1;
} else {
realLength += 2;
}
}
var max = 40;
if (totalwidth < 700) {
max = 34;
}
if (realLength > max) {
marquee = true;
}
if (marquee) {
var mar = document.createElement("marquee");
mar.setAttribute("behavior", "scroll");
mar.onmouseover = function () {
this.stop();
}
mar.onmouseout = function () {
this.start();
}
var parent = title.parentNode;
var _title = title.cloneNode(true);
mar.appendChild(_title);
parent.replaceChild(mar, title);
}
}
//设置页面标题
var str = document.title;
if (str.indexOf("移动开发") != 0) {
arr = str.split("|");
document.title = arr[0] + "|" + arr[2];
}
}
var addAvatar = function (avatarPath) {

$("#id_avatar_a").append("<img src='/img/avatar.jpg' class='js-avatar' style='width: 100%;height: 100%;opacity: 1;' />");

}
var resetPageWidth = function () {
//宽屏时设置页面宽度
var totalwidth = $(window).width();
if (totalwidth >= 1800) {
$(".body-wrap").css("max-width", "85em");
$(".body-wrap").css("width", "85em");
} else if (totalwidth >= 1500 && totalwidth < 1800) {
$(".body-wrap").css("max-width", "70em");
$(".body-wrap").css("width", "70em");
} else if (totalwidth <= 700) {
<!-- 设置移动端页面样式 -->
if (is_post() || is_archive() || is_category() || is_tag()) {
$(".article").each(function () {
$(this).css("margin-top", "0.625rem").css("margin-left", "-0.35rem").css("margin-right", "0.3rem").css("margin-bottom", "0.625rem");
})
} else {
$(".article").each(function () {
$(this).css("margin-top", "0.625rem").css("margin-left", "0.35rem").css("margin-right", "0.3rem").css("margin-bottom", "0.625rem");
})
}
//在小屏时距边界左边有点大了，所以距离减小
var curUrl = window.location.pathname;
var tagUrl = "/tags/"
var guestUrl = "/guestbook/";
var aboutUrl = "/about/";
var socialUrl = "/social/"
if(curUrl == tagUrl || curUrl == guestUrl || curUrl == aboutUrl || curUrl == socialUrl){
$(".article").each(function () {
$(this).css("margin-top", "0.625rem").css("margin-left", "-0.35rem").css("margin-right", "0.3rem").css("margin-bottom", "0.625rem");
})
}
//设置标题大小
$(".article-title-big").each(function () {
$(this).css("margin-left", "5px").css("font-size", "1.5rem");
})
$(".article-info-post").each(function () {
$(this).css("margin-left", "5px");
})
}
}
//给标题加上序号
var setTitleSerialNum = function () {
if(is_post()){
var existNumber = null;
$("h2").each(function(){
if($(this).attr("exist-number") != undefined) {
existNumber = true;
return false;
}
$(this).css("padding-top", "0.6em");
$(this).css("margin-top", "1em");
$(this).css("padding-bottom", "0.3em");
$(this).css("border-top", "1px solid #ddd");
var attr = $(this).attr("exist-number");
if(null == attr || undefined == attr){
$(this).attr("exist-number", true);
}
});
//已经设置过序号，将直接返回
if(existNumber){
return;
}
$("h3").each(function(){//控制h3标题的间隔
$(this).css("margin-top", "0.3em");
$(this).css("margin-bottom", "0.2em");
});
$("h4").each(function(){//控制h4标题的间隔
$(this).css("margin-top", "0.15em");
$(this).css("margin-bottom", "0.15em");
});
var $article = $(".article-entry");
var count = [0, 0, 0, 0, 0, 0];
var mark = [0, 0, 0, 0, 0, 0];
(function setMark() {
var hTag = ["h1", "h2", "h3", "h4", "h5", "h6"];
var index = 0;
for (var i = 0; i < 6; ++i) {
if ($article.children(hTag[i]).length > 0) {
++index;
mark[i] = index;
}
}
})();
$article.children(":header").each(function () {
var t = $(this);
var pos = 0;
switch (t[0].tagName) {
case "H1":
pos = 0;
break;
case "H2":
pos = 1;
break;
case "H3":
pos = 2;
break;
case "H4":
pos = 3;
break;
case "H5":
pos = 4;
break;
case "H6":
pos = 5;
break;
}
var len = mark[pos];
if (len < 6) {
count[len] = 0;
}
count[len - 1]++;
var listStr = count[0] + "";
for (var i = 1; i < len; ++i) {
listStr += "." + count[i];
}
listStr += "  ";
t.html(listStr + t.html());
});
} else {
//if (!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)) {
//  var heartspan = "<span class='htmleaf-links'><i class='heart' id='like3' rel='like'></i></span>";
//  $("#footerdiv").append(heartspan);
//底部红心动画
//  $('body').on("click", '.heart', function () {
//    var A = $(this).attr("id");
//    var B = A.split("like");
//    var messageID = B[1];
//    var C = parseInt($("#likeCount" + messageID).html());
//    $(this).css("background-position", "")
//    var D = $(this).attr("rel");
//    if (D === 'like') {
//      $("#likeCount" + messageID).html(C + 1);
//      $(this).addClass("heartAnimation").attr("rel", "unlike");
//    }
//    else {
//      $("#likeCount" + messageID).html(C - 1);
//      $(this).removeClass("heartAnimation").attr("rel", "like");
//      $(this).css("background-position", "left");
//    }
//  });
//}
}
}
//代码高亮
var setHightLigth = function () {
<!-- prettify代码高亮脚本引入 http://jumpbyte.cn/2016/07/02/use-and-install-prettify/-->
if (is_post()){
jQuery.getScript("//cdn.bootcss.com/prettify/r298/prettify.min.js")
.done(function() {
/* 执行成功后的处理 */
$('pre').addClass('prettyprint linenums').attr('style', 'white-space:pre;word-break: keep-all;overflow:auto;height:auto;width:auto;padding-top:5px;padding-bottom:5px;margin-bottom:10px;');
<!-- 控制代码高度和滚动条 -->
prettyPrint();
})
.fail(function() {
/* 执行失败后的处理 */
});
}
}
var otherSettings = function (isChange) {
var totalwidth = $(window).width();
if (!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)) {
//flying
if (totalwidth <= 900) {
$(".body-wrap").css("margin-bottom", "116px");
}
if($("#id_keep_div").length <= 0){
var flyingDiv = "<div id='id_keep_div' style='display:inline;'><span class='my-face' style='vertical-align:middle;'>沉迷码学</span><img src='/img/keep.png' style='vertical-align:middle;' /><img src='/img/keep.png' style='vertical-align:middle;' /><img src='/img/keep.png' style='vertical-align:middle;' /><img src='/img/keep.png' style='vertical-align:middle;' />";
$(flyingDiv).insertBefore("#web_count_div");
}
//添加左边栏ngudream效果
$("#ngudream_name").attr("class", "header-author cl-effect-2");
//移动端就不需要加载这几个图片了
//$("#qq_div").append("<img id='my_qq' src='/img/qq.png' style='cursor:pointer; margin-top:-8px;' />");
//$("#wechat_div").append("<img id='my_wechat' src='/img/wechat.png' style='cursor:pointer; margin-left:12px;' />");
//$("#bee_div").append("<img src='/img/bee.png' />");
//不显示右下角的搜索按钮
//$("#cb-close-btn").css("opacity", 0);
//$("#cb-search-btn").css("opacity", 0);
//点击弹出心形
if(isChange){
// var loveClick = function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e<d.length;e++)try{d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");}catch(e){}requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()};
// loveClick(window, document);
$.cachedScript('/js/love.js').done(function () {
});
}
var curUrl = window.location.pathname;
var tagUrl = "/tags/"
var guestUrl = "/guestbook/";
var aboutUrl = "/about/";
var archiveUrl = "/archives/";
var welfareUrl = "/404.html";
if(curUrl == tagUrl || curUrl == guestUrl || curUrl == aboutUrl || curUrl == archiveUrl || curUrl == welfareUrl){
try {
$(".tips-inner").find("li")[4].remove();
} catch (e) {
}
}
if(is_category() || is_tag()) {
try {
$(".tips-inner").find("li")[4].remove();
} catch (e) {
}
}
// console.log("screen.height = " + screen.height + ", screen.width = " + screen.width);
} else {
if (is_post()) {
<!-- 移动端不显示提示 -->
$("#copyright_author").attr("class", "");
$("#copyright_url").attr("class", "");
$("#copyright_license").attr("class", "");
}
$("#id_wordcount_span").css("margin-left", "");
$(".body-wrap").css("margin-bottom", "110px");//移动端页面底部距离大一点
// if (totalwidth > 900) {//已合并到special.css
//   $("<link>")
//         .attr({
//           rel: "stylesheet",
//           type: "text/css",
//           href: "/plugins/hint/hint.min.css"
//         })
//         .appendTo("head");
//   $("<link>")
//         .attr({
//             rel: "stylesheet",
//             type: "text/css",
//             href: "/plugins/font/style3.css"
//         })
//         .appendTo("head");
//   $("<link>")
//         .attr({
//             rel: "stylesheet",
//             type: "text/css",
//             href: "/plugins/heart/style.css"
//         })
//         .appendTo("head");
//   }
//左边栏缩小
if (totalwidth > 900 && totalwidth < 1200) {
$(".left-col").css("width", "250px");
$(".mid-col").css("margin-left", "-50px");
if (is_post()) {
$("#toc").css("width", "180px");
$("#tocButton").css("margin-left", "-50px");
$("#post-nav-button").css("margin-left", "-50px");
}
}
//监听横竖屏转
window.addEventListener('orientationchange', function (event) {
if (window.orientation == 180 || window.orientation == 0) {
window.location.reload();//横屏
//$("#cb-search-div").removeAttr("style");
//$("#cb-search-div").css("float", "left").css("margin-left", "15px");
} else {
window.location.reload();//竖屏
}
});
$("#cb-search-content").removeAttr("style");
$("#cb-search-content").css("margin-left", "-115px").css("width", "70%").css("font-size", "1.2em").css("height", "30px")
.css("margin-top", "80px").css("border-radius", "50px");
$("#cb-close-div").css("margin-top", "50px")
//移动端显示公益为腾讯404
$("#publicwelfare").attr("href", "/publicwelfare/baby-back-home.html");
}
}
var copyCode = function () {
<!-- 代码的复制功能 -->
var totalwidth = $(window).width();
var clipboard = new Clipboard('.copyspan');
var nodes = document.getElementsByTagName("pre");
for (var i = 0; i < nodes.length; i++) {
var code = nodes[i];
if($(code).find(".copyspan").length <= 0){
code.onmouseover = function () {//鼠标进入时再显示复制按钮
$(this).find(".copyspan").show();
}
code.onmouseout = function () {
$(this).find(".copyspan").hide();
}
<!-- 添加复制按钮 -->
var span = document.createElement("span");
span.className = "copyspan";
span.style.width = "100%";
span.style.textAlign = "right";
var copy = document.createElement("i");
copy.style.cursor = "pointer";
<!--  设置鼠标手形 -->
copy.style.float = "right";
copy.style.marginRight = "10px"
copy.className = "fa fa-clipboard";
copy.setAttribute("title", "●'◡'●点我复制");
span.setAttribute("data-clipboard-text", code.innerText);
<!-- 复制的内容为code块 -->
span.appendChild(copy);
var height = code.offsetHeight;
if (totalwidth > 700) {
if (height > 100) {
copy.style.marginTop = "5px"
code.insertBefore(span, code.firstChild);
}
} else {
if (height > 100) {
//code.insertAfter(span, code.firstChild);
insertAfter(span, code.firstChild);
}
}
$(span).hide();
}
}
<!-- 在节点targetEl后面播入一个新元素newEl -->
function insertAfter(newEl, targetEl) {
var parentEl = targetEl.parentNode;
if (parentEl.lastChild == targetEl) {
parentEl.appendChild(newEl);
} else {
parentEl.insertBefore(newEl, targetEl.nextSibling);
}
}
}
var copyRight = function () {
var pageRightCopy = new Clipboard('.copy-path');
if (false && is_post()) {
//复制网页内容自动添加版权信息
var copyright = document.getElementsByClassName("copyright");
if (copyright.length > 0) {
function addCopyRight() {
var clipboard = new Clipboard('.copycontent');
var body_element = document.body;
var selection = window.getSelection();
if (window.clipboardData) { // Internet Explorer
var pagelink = "\r\n\r\n 原文出自「Alex Zhong @ az22c」转载请保留原文链接: " + document.location.href + "";
var copytext = selection + pagelink;
window.clipboardData.setData("Text", copytext);
return false;
} else {
var pagelink = "\r\n 原文出自「Alex Zhong @ az22c」转载请保留原文链接: " + document.location.href + "";
var copytext = selection + pagelink;
var newdiv = document.createElement('div');
newdiv.className = "copycontent";
newdiv.setAttribute("data-clipboard-text", copytext);
body_element.appendChild(newdiv);
newdiv.click();
//selection.selectAllChildren(newdiv);
window.setTimeout(function () {
body_element.removeChild(newdiv);
}, 0);
}
clipboard.destroy();
}
document.oncopy = addCopyRight;
}
}
}
var baiduShare = function () {
//处理百度分享
var elem = document.getElementsByClassName("bdsharebuttonbox");
if (elem.length > 0) {
var elemDiv = elem[0];
var elem_child = elemDiv.childNodes;//得到参数元素的所有子元素
for (var i = 0; i < elem_child.length; i++) { //遍历子元素
var childA = elem_child[i];
if (childA.className == "fa fa-share-alt bds_more") {
childA.parentNode.removeChild(childA);//删除更多
continue;
}
if (childA.className != undefined) {
var span = document.createElement("span");
var _sel = childA.cloneNode(true);
_sel.title = "";
span.appendChild(_sel);
span.setAttribute("class", "hint  hint--top");
span.setAttribute("data-hint", childA.title);
childA.parentNode.replaceChild(span, childA);
}
}
}
}
var rightSearch = function () {
//右下角搜索
var time1 = 0;
var show = false;
var names = new Array(); //文章名字等
var urls = new Array(); //文章地址
$(document).keyup(function (e) {
var time2 = new Date().getTime();
if (e.keyCode == 17) {
var gap = time2 - time1;
time1 = time2;
if (gap < 500) {
if (show) {
$(".cb-search-tool").css("display", "none");
show = false;
} else {
$(".cb-search-tool").css("display", "block");
show = true;
$("#cb-search-content").val("");
$("#cb-search-content").focus();
}
time1 = 0;
}
} else if(e.keyCode == 27){
$(".cb-search-tool").css("display", "none");
show = false;
time1 = 0;
}
});
$("#cb-search-content").keyup(function (e) {
var time2 = new Date().getTime();
if (e.keyCode == 17) {
var gap = time2 - time1;
time1 = time2;
if (gap < 500) {
if (show) {
$(".cb-search-tool").css("display", "none");
show = false;
} else {
$(".cb-search-tool").css("display", "block");
show = true;
$("#cb-search-content").val("");
$("#cb-search-content").focus();
}
time1 = 0;
}
}
});
$("#cb-close-btn").click(function () {
$(".cb-search-tool").css("display", "none");
show = false;
time1 = 0;
});
$("#cb-search-btn").click(function(){
$(".cb-search-tool").css("display", "block");
show = true;
$("#cb-search-content").val("");
$("#cb-search-content").focus();
time1 = 0;
});
$.getJSON("/search/cb-search.json").done(function (data) {
if (data.code == 0) {
for (var index in data.data) {
var item = data.data[index];
names.push(item.title);
urls.push(item.url);
}
$("#dropdown-menu").css("font-size", "1.2em");
$("#cb-search-content").typeahead({
source: names,
afterSelect: function (item) {
$(".cb-search-tool").css("display", "none");
show = false;
window.location.href = (urls[names.indexOf(item)]);
return item;
}
});
}
}).error(function(data, b) { console.log("json解析错误，搜索功能暂不可用，请检查文章title，确保不含有换行等特殊符号"); });
}
//移动端添加搜索图标
var mobileSearch = function(){
if(navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)){
$("#id_span_search_close").append("<img src='/search/img/cb-close.png' id='cb-close-btn'/>");
$("#id_span_search_open").append("<img src='/search/img/cb-search.png' id='cb-search-btn'/>");
}
}
//左边栏coding change动画
var addTextAnimation = function (){
var textAnimations = [
"rw-words rw-words-1", "cd-headline rotate-1", "cd-headline clip", "cd-headline slide",
"cd-headline zoom", "cd-headline letters scale", "cd-headline push", "cd-headline loading-bar"
],
textLen = textAnimations.length,
textIndex = Math.ceil(Math.random() * textLen) - 1,
textAnimationName = textAnimations[textIndex];
if(textIndex != 0){
$("#id_span_change").remove();
$("#id_normal_text_anim").remove();
var textAnimView = "<div id='id_span_change'><span>Coding Changes the</span><span class='cd-words-wrapper' style='margin-left:4px;'><b class='is-visible' style='font-weight:normal !important;color: #6b889d;'>World</b><b style='font-weight:normal !important;color: #6b739d;'>Never</b><b style='font-weight:normal !important;color: #7a6b9d;'>Give</b><b style='font-weight:normal !important;color: #7a6b9d;'>Up</b><b style='font-weight:normal !important;color: #7a6b9d;'>Dream</b></span></div>";
$("#id_hgroup_name").after(textAnimView);
var newClass = textAnimationName + " header-subtitle";
$("#id_span_change").attr("class", newClass);
}
}
var playTextAnimation = function () {
//set animation timing
var animationDelay = 2500,
//loading bar effect
barAnimationDelay = 3800,
barWaiting = barAnimationDelay - 3000, //3000 is the duration of the transition on the loading bar - set in the scss/css file
//letters effect
lettersDelay = 50,
//type effect
typeLettersDelay = 150,
selectionDuration = 500,
typeAnimationDelay = selectionDuration + 800,
//clip effect
revealDuration = 600,
revealAnimationDelay = 1500;
initHeadline();
function initHeadline() {
//insert <i> element for each letter of a changing word
singleLetters($('.cd-headline.letters').find('b'));
//initialise headline animation
animateHeadline($('.cd-headline'));
}
function singleLetters($words) {
$words.each(function(){
var word = $(this),
letters = word.text().split(''),
selected = word.hasClass('is-visible');
for (i in letters) {
if(word.parents('.rotate-2').length > 0) letters[i] = '<em>' + letters[i] + '</em>';
letters[i] = (selected) ? '<i class="in">' + letters[i] + '</i>': '<i>' + letters[i] + '</i>';
}
var newLetters = letters.join('');
word.html(newLetters);
});
}
function animateHeadline($headlines) {
var duration = animationDelay;
$headlines.each(function(){
var headline = $(this);
if(headline.hasClass('loading-bar')) {
duration = barAnimationDelay;
setTimeout(function(){ headline.find('.cd-words-wrapper').addClass('is-loading') }, barWaiting);
} else if (headline.hasClass('clip')){
var spanWrapper = headline.find('.cd-words-wrapper'),
newWidth = spanWrapper.width() + 10
spanWrapper.css('width', newWidth);
} else if (!headline.hasClass('type') ) {
//assign to .cd-words-wrapper the width of its longest word
var words = headline.find('.cd-words-wrapper b'),
width = 0;
words.each(function(){
var wordWidth = $(this).width();
if (wordWidth > width) width = wordWidth;
});
headline.find('.cd-words-wrapper').css('width', width);
};
//trigger animation
setTimeout(function(){ hideWord( headline.find('.is-visible').eq(0) ) }, duration);
});
}
function hideWord($word) {
var nextWord = takeNext($word);
if($word.parents('.cd-headline').hasClass('type')) {
var parentSpan = $word.parent('.cd-words-wrapper');
parentSpan.addClass('selected').removeClass('waiting');
setTimeout(function(){
parentSpan.removeClass('selected');
$word.removeClass('is-visible').addClass('is-hidden').children('i').removeClass('in').addClass('out');
}, selectionDuration);
setTimeout(function(){ showWord(nextWord, typeLettersDelay) }, typeAnimationDelay);
} else if($word.parents('.cd-headline').hasClass('letters')) {
var bool = ($word.children('i').length >= nextWord.children('i').length) ? true : false;
hideLetter($word.find('i').eq(0), $word, bool, lettersDelay);
showLetter(nextWord.find('i').eq(0), nextWord, bool, lettersDelay);
}  else if($word.parents('.cd-headline').hasClass('clip')) {
$word.parents('.cd-words-wrapper').animate({ width : '2px' }, revealDuration, function(){
switchWord($word, nextWord);
showWord(nextWord);
});
} else if ($word.parents('.cd-headline').hasClass('loading-bar')){
$word.parents('.cd-words-wrapper').removeClass('is-loading');
switchWord($word, nextWord);
setTimeout(function(){ hideWord(nextWord) }, barAnimationDelay);
setTimeout(function(){ $word.parents('.cd-words-wrapper').addClass('is-loading') }, barWaiting);
} else {
switchWord($word, nextWord);
setTimeout(function(){ hideWord(nextWord) }, animationDelay);
}
}
function showWord($word, $duration) {
if($word.parents('.cd-headline').hasClass('type')) {
showLetter($word.find('i').eq(0), $word, false, $duration);
$word.addClass('is-visible').removeClass('is-hidden');
}  else if($word.parents('.cd-headline').hasClass('clip')) {
$word.parents('.cd-words-wrapper').animate({ 'width' : $word.width() + 10 }, revealDuration, function(){
setTimeout(function(){ hideWord($word) }, revealAnimationDelay);
});
}
}
function hideLetter($letter, $word, $bool, $duration) {
$letter.removeClass('in').addClass('out');
if(!$letter.is(':last-child')) {
setTimeout(function(){ hideLetter($letter.next(), $word, $bool, $duration); }, $duration);
} else if($bool) {
setTimeout(function(){ hideWord(takeNext($word)) }, animationDelay);
}
if($letter.is(':last-child') && $('html').hasClass('no-csstransitions')) {
var nextWord = takeNext($word);
switchWord($word, nextWord);
}
}
function showLetter($letter, $word, $bool, $duration) {
$letter.addClass('in').removeClass('out');
if(!$letter.is(':last-child')) {
setTimeout(function(){ showLetter($letter.next(), $word, $bool, $duration); }, $duration);
} else {
if($word.parents('.cd-headline').hasClass('type')) { setTimeout(function(){ $word.parents('.cd-words-wrapper').addClass('waiting'); }, 200);}
if(!$bool) { setTimeout(function(){ hideWord($word) }, animationDelay) }
}
}
function takeNext($word) {
return (!$word.is(':last-child')) ? $word.next() : $word.parent().children().eq(0);
}
function takePrev($word) {
return (!$word.is(':first-child')) ? $word.prev() : $word.parent().children().last();
}
function switchWord($oldWord, $newWord) {
$oldWord.removeClass('is-visible').addClass('is-hidden');
$newWord.removeClass('is-hidden').addClass('is-visible');
}
}
var textAnimationClick = function (avatarPath) {
var totalHeight = screen.height;
if (!is_post()) {
if(totalHeight >= 700){//左边栏足够高才显示图片
if($("#left_show_div").length <= 0){
var curDate = new Date();
var date = curDate.getDate();
var time = Date.parse(new Date());
var lastTime = Date.parse("2017-02-01");
var day = parseInt((time -lastTime)/(1000*60*60*24));
var path = '/img/daily_pic/' + (day % 83) + '.png';
var avatarIndex = Math.ceil(Math.random()*30);
var newAvatar = '/img/avatar/' + avatarIndex + '.png';
//console.log(path);
var year_div = "<div align=center id='left_show_div' ><img src=" + path + " id='2017_year' style='cursor:pointer;'/></div>";
$("#left_col_div").append(year_div);
if(totalHeight >= 1000){
$("#left_col_div").css("overflow-y", "auto").css("overflow-x", "hidden");
} else if(totalHeight >= 700){
$("#left_col_div").css("overflow-y", "hidden").css("overflow-x", "hidden");
var clickCount = 0;
$("#id_span_change").css("cursor", "pointer").click(function(){
if((clickCount % 2) == 0){
$("#left_col_div").css("overflow-y", "auto").css("overflow-x", "hidden");
} else {
$("#left_col_div").css("overflow-y", "hidden").css("overflow-x", "hidden");
}
clickCount++;
});
var avatarOut = false;
$("#id_avatar_a").mouseenter(function(){
if(!avatarOut){
avatarOut = true;
$("#blog_avatar").attr("src", newAvatar).attr("class", "animated rotateInDownLeft").css("background", "#fafafa").css("border-radius","50px");
}
});
$("#id_avatar_a").mouseleave(function(){
if(avatarOut){
avatarOut = false;
$("#blog_avatar").attr("src", avatarPath).attr("class", "animated rotateInDownRight");
}
});
}
$("#2017_year").click(function() {
//$(this).remove();
$(this).css("opacity", 0);
$(this).parent().append("<img src='/img/daily_pic/35.png' style='position:absolute; margin-left:-270px;cursor:pointer;' id='eyes_img'/>");
$("#eyes_img").click(function() {
$(this).remove();
$("#2017_year").css("opacity", 1);
});
});
}
}
}
}
//代码雨
var curTimer = null;//记录上一页面的timer，使用instantclick后，打开下一页面时需要取消上一个定时器
var colorList = ["#6da336", "#ff945c", "#66CC66", "#99CC99", "#CC6666", "#76becc", "#c99979", "#918597", "#4d4d4d"];
var id = null;
var colorBGList = ["rgba(109,163,54,0.05)", "rgba(255,148,92, 0.05)", "rgba(102,204,102,0.05)", "rgba(153,204,153,0.05)", "rgba(204,102,102,0.05)", "rgba(118,190,204,0.05)", "rgba(201,153,121,0.05)", "rgba(145,133,151,0.05)", "rgba(77,77,77,0.05)"];
var colorLetterList = ["#ffffff", "#000000", "#000000", "#000080", "#000000", "#FFFF00", "#000000", "#0F0", "#0F0"];
var codeRain = function () {
// Random Color 边栏顶部随机颜色
// clearInterval(curTimer);
// $("#matrix").remove();
// $("#id_code_rain_div").append("<canvas id='matrix' width='300' height='180'></canvas>");
id = Math.ceil(Math.random()*(colorList.length-1));
// PC
$("#container .left-col .overlay").css({"background-color": colorList[id],"opacity": .5});
// Mobile
$("#container #mobile-nav .overlay").css({"background-color": colorList[id],"opacity": .7});
if(!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)){
if(curTimer == null){
// 代码雨
if(matrix != undefined){
var width = matrix.width;
var height = matrix.height;
var letters = Array(256).join(1).split('');
var draw = function () {
if(typeof(matrix) == "undefined"){
clearInterval(curTimer);
return;
}
matrix.getContext('2d').globalAlpha = 1.0;
matrix.getContext('2d').fillStyle = colorBGList[id];
matrix.getContext('2d').fillRect(0, 0, width, height);
matrix.getContext('2d').fillStyle = colorLetterList[id];
matrix.getContext('2d').font = "10pt Calibri";
letters.map(function (y_pos, index) {
text = String.fromCharCode(48 + Math.floor(Math.random()*73));//英文字符：65 + Math.random() * 33 中文：3e4 + Math.random() * 33 数字：Math.floor(Math.random()*10)
x_pos = index * 10;
matrix.getContext('2d').fillText(text, x_pos, y_pos);
letters[index] = (y_pos > 180 + Math.random() * 1e4) ? 0 : y_pos + 10;
});
};
}
var timer = setInterval(draw, 60);
curTimer = timer;
window.onfocus = function() {//获取焦点时开始
clearInterval(timer);
timer = setInterval(draw, 60);//定时器
}
window.onblur = function() {//失去焦点时停止
clearInterval(timer);
}
}
}
}
//多说评论首页显示评论数
var duoshuoQuery = {short_name:"null"};
var duoshuoComments = function() {

}
//隐藏categories、tags页面下的标签
var hideLabels =  function() {
// Hide Labels
$("#id_archives").css("opacity", "1.0");
if(is_archive() || is_tag() || is_category()) {
var url = window.location.pathname;
if(!url.endWith("/tags/")){
$("#footer").after("<img id='id_eye_btn' class='hide-labels fa fa-eye animated infinite pulse' style='margin-left:5px;margin-top:5px;width:38px;height:18px;'></img>");
$("#id_eye_btn").attr("src", "/img/eye.png");
$(".hide-labels").click(function() {
$(".article-info").toggle(200);
})
}
}
}
var resetPageOpacity = function() {
var url = window.location.pathname;
if((url.startWith("/about/") && url.endWith("/about/")) || (url.startWith("/guestbook/") && url.endWith("/guestbook/"))){
$("#page-undefined").css("opacity", "1.0");
}
}
</script>
<!-- 添加 InstantClick 预加载 -->
<!-- 这段代码的含义是每次页面重载时，通过直接的函数调用来实现MathJax、百度统计、Google Code Prettify、Google Analytics的重新运行 -->
<script data-no-instant>
    if(!navigator.userAgent.match(/(iPhone|iPod|Android|ios|Opera Mini|BlackBerry|webOS)/i)){
      jQuery.getScript("//cdn.bootcss.com/instantclick/3.0.1/instantclick.min.js")
        .done(function() {
          InstantClick.on('change', function (isInitialLoad) {
//console.log(isInitialLoad);
            if (isInitialLoad === false) {
afterChange(isInitialLoad);
if (typeof MathJax !== 'undefined'){ // support MathJax
MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
}
if (typeof prettyPrint !== 'undefined'){ // support google code prettify
prettyPrint();
}
if (typeof _hmt !== 'undefined'){  // support 百度统计
_hmt.push(['_trackPageview', location.pathname + location.search]);
}
if (typeof ga !== 'undefined'){  // support google analytics
ga('send', 'pageview', location.pathname + location.search);
}
            } else {
afterChange(isInitialLoad);
}
          });
          InstantClick.init();
        })
        .fail(function() {
        });
    } else {
afterChange(true);
    }
</script>
  </div>
</body>
</html>
